(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function e(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=e(o);fetch(o.href,r)}})();function C(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function S(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function g(t,i,e){return i&&S(t.prototype,i),e&&S(t,e),t}function y(t){return+t.replace(/px/,"")}function M(t){var i=window.devicePixelRatio,e=getComputedStyle(t),n=y(e.getPropertyValue("width")),o=y(e.getPropertyValue("height"));t.setAttribute("width",(n*i).toString()),t.setAttribute("height",(o*i).toString())}function h(t,i){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=Math.random()*(i-t)+t;return Math.floor(n*Math.pow(10,e))/Math.pow(10,e)}function _(t){return t[h(0,t.length)]}var w=.00125,F=5e-4,D=9e-4,L=1e-5,x=6,q=80,k=.9,z=1.7,B=.2,U=.6,X=.03,W=.07,A=15,E=82,H=150,V=100,G=250,Y=40,$=["#fcf403","#62fc03","#f4fc03","#03e7fc","#03fca5","#a503fc","#fc03ad","#fc03c2"];function N(t){var i=1920;return Math.log(t)/Math.log(i)}var T=function(){function t(i){C(this,t);var e=i.initialPosition,n=i.direction,o=i.confettiRadius,r=i.confettiColors,a=i.emojis,u=i.emojiSize,c=i.canvasWidth,f=h(k,z,3),s=f*N(c);this.confettiSpeed={x:s,y:s},this.finalConfettiSpeedX=h(B,U,3),this.rotationSpeed=a.length?.01:h(X,W,3)*N(c),this.dragForceCoefficient=h(F,D,6),this.radius={x:o,y:o},this.initialRadius=o,this.rotationAngle=n==="left"?h(0,.2,3):h(-.2,0,3),this.emojiSize=u,this.emojiRotationAngle=h(0,2*Math.PI),this.radiusYUpdateDirection="down";var d=n==="left"?h(E,A)*Math.PI/180:h(-A,-E)*Math.PI/180;this.absCos=Math.abs(Math.cos(d)),this.absSin=Math.abs(Math.sin(d));var m=h(-H,0),v={x:e.x+(n==="left"?-m:m)*this.absCos,y:e.y-m*this.absSin};this.currentPosition=Object.assign({},v),this.initialPosition=Object.assign({},v),this.color=a.length?null:_(r),this.emoji=a.length?_(a):null,this.createdAt=new Date().getTime(),this.direction=n}return g(t,[{key:"draw",value:function(e){var n=this.currentPosition,o=this.radius,r=this.color,a=this.emoji,u=this.rotationAngle,c=this.emojiRotationAngle,f=this.emojiSize,s=window.devicePixelRatio;r?(e.fillStyle=r,e.beginPath(),e.ellipse(n.x*s,n.y*s,o.x*s,o.y*s,u,0,2*Math.PI),e.fill()):a&&(e.font="".concat(f,"px serif"),e.save(),e.translate(s*n.x,s*n.y),e.rotate(c),e.textAlign="center",e.fillText(a,0,0),e.restore())}},{key:"updatePosition",value:function(e,n){var o=this.confettiSpeed,r=this.dragForceCoefficient,a=this.finalConfettiSpeedX,u=this.radiusYUpdateDirection,c=this.rotationSpeed,f=this.createdAt,s=this.direction,d=n-f;if(o.x>a&&(this.confettiSpeed.x-=r*e),this.currentPosition.x+=o.x*(s==="left"?-this.absCos:this.absCos)*e,this.currentPosition.y=this.initialPosition.y-o.y*this.absSin*d+w*Math.pow(d,2)/2,this.rotationSpeed-=this.emoji?1e-4:L*e,this.rotationSpeed<0&&(this.rotationSpeed=0),this.emoji){this.emojiRotationAngle+=this.rotationSpeed*e%(2*Math.PI);return}u==="down"?(this.radius.y-=e*c,this.radius.y<=0&&(this.radius.y=0,this.radiusYUpdateDirection="up")):(this.radius.y+=e*c,this.radius.y>=this.initialRadius&&(this.radius.y=this.initialRadius,this.radiusYUpdateDirection="down"))}},{key:"getIsVisibleOnCanvas",value:function(e){return this.currentPosition.y<e+V}}]),t}();function J(){var t=document.createElement("canvas");return t.style.position="fixed",t.style.width="100%",t.style.height="100%",t.style.top="0",t.style.left="0",t.style.zIndex="1000",t.style.pointerEvents="none",document.body.appendChild(t),t}function K(t){var i=t.confettiRadius,e=i===void 0?x:i,n=t.confettiNumber,o=n===void 0?t.confettiesNumber||(t.emojis?Y:G):n,r=t.confettiColors,a=r===void 0?$:r,u=t.emojis,c=u===void 0?t.emojies||[]:u,f=t.emojiSize,s=f===void 0?q:f;return t.emojies&&console.error("emojies argument is deprecated, please use emojis instead"),t.confettiesNumber&&console.error("confettiesNumber argument is deprecated, please use confettiNumber instead"),{confettiRadius:e,confettiNumber:o,confettiColors:a,emojis:c,emojiSize:s}}var Z=function(){function t(i){var e=this;C(this,t),this.canvasContext=i,this.shapes=[],this.promise=new Promise(function(n){return e.resolvePromise=n})}return g(t,[{key:"getBatchCompletePromise",value:function(){return this.promise}},{key:"addShapes",value:function(){var e;(e=this.shapes).push.apply(e,arguments)}},{key:"complete",value:function(){var e;return this.shapes.length?!1:((e=this.resolvePromise)===null||e===void 0||e.call(this),!0)}},{key:"processShapes",value:function(e,n,o){var r=this,a=e.timeDelta,u=e.currentTime;this.shapes=this.shapes.filter(function(c){return c.updatePosition(a,u),c.draw(r.canvasContext),o?c.getIsVisibleOnCanvas(n):!0})}}]),t}(),Q=function(){function t(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};C(this,t),this.activeConfettiBatches=[],this.canvas=i.canvas||J(),this.canvasContext=this.canvas.getContext("2d"),this.requestAnimationFrameRequested=!1,this.lastUpdated=new Date().getTime(),this.iterationIndex=0,this.loop=this.loop.bind(this),requestAnimationFrame(this.loop)}return g(t,[{key:"loop",value:function(){this.requestAnimationFrameRequested=!1,M(this.canvas);var e=new Date().getTime(),n=e-this.lastUpdated,o=this.canvas.offsetHeight,r=this.iterationIndex%10===0;this.activeConfettiBatches=this.activeConfettiBatches.filter(function(a){return a.processShapes({timeDelta:n,currentTime:e},o,r),r?!a.complete():!0}),this.iterationIndex++,this.queueAnimationFrameIfNeeded(e)}},{key:"queueAnimationFrameIfNeeded",value:function(e){this.requestAnimationFrameRequested||this.activeConfettiBatches.length<1||(this.requestAnimationFrameRequested=!0,this.lastUpdated=e||new Date().getTime(),requestAnimationFrame(this.loop))}},{key:"addConfetti",value:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=K(e),o=n.confettiRadius,r=n.confettiNumber,a=n.confettiColors,u=n.emojis,c=n.emojiSize,f=this.canvas.getBoundingClientRect(),s=f.width,d=f.height,m=d*5/7,v={x:0,y:m},j={x:s,y:m},p=new Z(this.canvasContext),I=0;I<r/2;I++){var R=new T({initialPosition:v,direction:"right",confettiRadius:o,confettiColors:a,confettiNumber:r,emojis:u,emojiSize:c,canvasWidth:s}),O=new T({initialPosition:j,direction:"left",confettiRadius:o,confettiColors:a,confettiNumber:r,emojis:u,emojiSize:c,canvasWidth:s});p.addShapes(R,O)}return this.activeConfettiBatches.push(p),this.queueAnimationFrameIfNeeded(),p.getBatchCompletePromise()}},{key:"clearCanvas",value:function(){this.activeConfettiBatches=[]}}]),t}();const l={board:{content:[]},turn:"X"};for(let t=0;t<3;t++){l.board.content[t]={content:[]};for(let i=0;i<3;i++)l.board.content[t].content[i]={content:""}}document.querySelectorAll(".item").forEach((t,i)=>{t.addEventListener("click",()=>{const e=Math.floor(i/3),n=i%3;if(l.board.content[e].content[n].content===""){l.board.content[e].content[n].content=l.turn,t.textContent=l.turn,l.turn=l.turn==="X"?"O":"X",document.querySelector("#turn").textContent=l.turn+" turn";const o=tt();o?(document.querySelector("#turn").textContent=o+" won!",setTimeout(()=>{P()},1e3),new Q().addConfetti()):et()&&(document.querySelector("#turn").textContent="Draw!",setTimeout(()=>{P()},1e3))}},!0)});function P(){for(let t=0;t<3;t++)for(let i=0;i<3;i++)l.board.content[t].content[i].content="";document.querySelectorAll(".item").forEach(t=>{t.classList.add("fade-out"),setTimeout(()=>{t.classList.remove("fade-out"),t.textContent=""},1e3)}),document.querySelector("#turn").textContent=l.turn+" turn"}const b=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],tt=(t=l.board)=>{for(let i=0;i<b.length;i++){const[e,n,o]=b[i];if(t.content[Math.floor(e/3)].content[e%3].content!==""&&t.content[Math.floor(e/3)].content[e%3].content===t.content[Math.floor(n/3)].content[n%3].content&&t.content[Math.floor(e/3)].content[e%3].content===t.content[Math.floor(o/3)].content[o%3].content)return t.content[Math.floor(e/3)].content[e%3].content}return null},et=(t=l.board)=>{for(let i=0;i<3;i++)for(let e=0;e<3;e++)if(t.content[i].content[e].content==="")return!1;return!0};
